[build]
  base = "apps/web-app/"
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "22"
  NPM_FLAGS = "--legacy-peer-deps"
  # Completely disable secrets scanning for Firebase node modules (false positives)
  SECRETS_SCAN_SMART_DETECTION_ENABLED = "false"
  SECRETS_SCAN_ENABLED = "false"
  # Also exclude Firebase library paths from scanning
  SECRETS_SCAN_SMART_DETECTION_OMIT_VALUES = "AIza,@firebase,node_modules/@firebase,public-types.d"

# Settings for Next.js
[[plugins]]
  package = "@netlify/plugin-nextjs"