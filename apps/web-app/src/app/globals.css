@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   LIFTOUT DESIGN SYSTEM
   Deep Navy + Gold Premium Executive Theme
   ============================================ */

@layer base {
  /* Design System CSS Variables */
  :root {
    /* Background layers - Warm cream, not pure white */
    --bg: hsl(40, 30%, 97%);
    --bg-surface: hsl(40, 20%, 99%);
    --bg-elevated: hsl(40, 25%, 95%);

    /* Text hierarchy - Deep navy tones, NOT pure black */
    --text-primary: hsl(220, 60%, 15%);
    --text-secondary: hsl(220, 30%, 40%);
    --text-tertiary: hsl(220, 20%, 55%);
    --text-inverse: hsl(40, 30%, 98%); /* Clean off-white for button text */
    --text-on-navy: hsl(40, 30%, 98%); /* Text on navy backgrounds */
    --text-on-gold: hsl(220, 70%, 12%); /* Dark text on gold backgrounds */

    /* Primary accent: Deep Navy */
    --navy: hsl(220, 60%, 20%);
    --navy-light: hsl(220, 50%, 30%);
    --navy-dark: hsl(220, 70%, 15%);
    --navy-50: hsl(220, 50%, 95%);
    --navy-100: hsl(220, 50%, 90%);
    --navy-200: hsl(220, 50%, 80%);
    --navy-300: hsl(220, 50%, 65%);
    --navy-400: hsl(220, 50%, 45%);
    --navy-500: hsl(220, 55%, 35%);
    --navy-600: hsl(220, 60%, 25%);
    --navy-700: hsl(220, 60%, 20%);
    --navy-800: hsl(220, 65%, 15%);
    --navy-900: hsl(220, 70%, 10%);

    /* Secondary accent: Gold */
    --gold: hsl(38, 50%, 55%);
    --gold-light: hsl(38, 60%, 75%);
    --gold-dark: hsl(38, 60%, 42%);
    --gold-hover: hsl(38, 55%, 48%);
    --gold-50: hsl(38, 60%, 95%);
    --gold-100: hsl(38, 60%, 90%);
    --gold-200: hsl(38, 60%, 82%);
    --gold-300: hsl(38, 60%, 75%);
    --gold-400: hsl(38, 55%, 65%);
    --gold-500: hsl(38, 50%, 55%);
    --gold-600: hsl(38, 55%, 48%);
    --gold-700: hsl(38, 60%, 42%);

    /* Semantic colors */
    --success: hsl(142, 55%, 38%);
    --success-light: hsl(142, 55%, 92%);
    --warning: hsl(38, 95%, 50%);
    --warning-light: hsl(38, 95%, 92%);
    --error: hsl(0, 65%, 50%);
    --error-light: hsl(0, 65%, 95%);

    /* Borders */
    --border: hsl(220, 15%, 85%);
    --border-hover: hsl(220, 20%, 70%);
    --border-focus: hsl(220, 60%, 50%);

    /* Shadows */
    --shadow-color: 220 60% 15%;

    /* Animation */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
    --ease-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --duration-instant: 0.1s;
    --duration-fast: 0.2s;
    --duration-base: 0.3s;
    --duration-slow: 0.4s;

    /* Typography */
    --font-heading: 'Playfair Display', Georgia, serif;
    --font-body: 'Source Sans 3', system-ui, -apple-system, sans-serif;

    /* Focus ring */
    --focus-ring: 0 0 0 3px hsl(220, 60%, 50% / 0.4);
    --focus-ring-offset: 2px;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Base resets */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-body);
    color: var(--text-primary);
    background-color: var(--bg);
    line-height: 1.5;
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Typography defaults */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: var(--text-primary);
  }

  h1 { font-size: 3.052rem; }
  h2 { font-size: 2.441rem; }
  h3 { font-size: 1.953rem; }
  h4 { font-size: 1.563rem; }
  h5 { font-size: 1.25rem; }
  h6 { font-size: 1rem; }

  p {
    max-width: 65ch;
    line-height: 1.6;
  }

  a {
    color: inherit;
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out-quart);
  }

  /* Note: Links on dark backgrounds should explicitly set hover color */

  /* Focus states - accessibility */
  :focus-visible {
    outline: 3px solid var(--border-focus);
    outline-offset: var(--focus-ring-offset);
    border-radius: 4px;
  }

  /* Remove default focus outline for mouse users */
  :focus:not(:focus-visible) {
    outline: none;
  }

  /* Selection */
  ::selection {
    background-color: var(--gold-200);
    color: var(--navy-900);
  }

  /* Custom scrollbar - Navy themed */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-elevated);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--navy-300);
    border-radius: 4px;
    border: 2px solid var(--bg-elevated);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--navy-400);
  }

  /* Firefox scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--navy-300) var(--bg-elevated);
  }
}

@layer components {
  /* ============================================
     BUTTONS
     ============================================ */

  /* Primary Button - Navy background with white text */
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md;
    font-family: var(--font-body);
    font-weight: 600;
    background-color: var(--navy);
    color: var(--text-on-navy);
    min-height: 44px;
    min-width: 44px;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .btn-primary:hover {
    background-color: var(--navy-light);
    color: var(--text-on-navy);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px hsl(var(--shadow-color) / 0.2);
  }

  .btn-primary:active {
    transform: translateY(0);
    color: var(--text-on-navy);
  }

  .btn-primary:focus-visible {
    box-shadow: var(--focus-ring);
    color: var(--text-on-navy);
  }

  .btn-primary:disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none;
    box-shadow: none;
    color: var(--text-on-navy);
  }

  /* Secondary Button - Gold background with dark text */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md;
    font-family: var(--font-body);
    font-weight: 600;
    background-color: var(--gold);
    color: var(--text-on-gold);
    min-height: 44px;
    min-width: 44px;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .btn-secondary:hover {
    background-color: var(--gold-hover);
    color: var(--text-on-gold);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px hsl(38 50% 55% / 0.3);
  }

  .btn-secondary:active {
    transform: translateY(0);
    color: var(--text-on-gold);
  }

  .btn-secondary:focus-visible {
    box-shadow: var(--focus-ring);
    color: var(--text-on-gold);
  }

  .btn-secondary:disabled {
    @apply opacity-50 cursor-not-allowed;
    transform: none;
    box-shadow: none;
    color: var(--text-on-gold);
  }

  /* Ghost Button */
  .btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md;
    font-family: var(--font-body);
    font-weight: 600;
    color: var(--text-secondary);
    background-color: transparent;
    min-height: 44px;
    min-width: 44px;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .btn-ghost:hover {
    background-color: var(--bg-elevated);
    color: var(--text-primary);
  }

  .btn-ghost:focus-visible {
    box-shadow: var(--focus-ring);
  }

  .btn-ghost:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Outline Button - Navy border, fills on hover */
  .btn-outline {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md;
    font-family: var(--font-body);
    font-weight: 600;
    background-color: transparent;
    color: var(--navy);
    border: 2px solid var(--navy);
    min-height: 44px;
    min-width: 44px;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .btn-outline:hover {
    background-color: var(--navy);
    color: var(--text-on-navy);
    border-color: var(--navy);
  }

  .btn-outline:focus-visible {
    box-shadow: var(--focus-ring);
  }

  .btn-outline:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* ============================================
     FORM ELEMENTS
     ============================================ */

  .input-field {
    @apply block w-full rounded-md font-body text-base;
    background-color: var(--bg-surface);
    border: 1px solid var(--border);
    color: var(--text-primary);
    padding: 12px 16px;
    min-height: 44px;
    transition: border-color var(--duration-fast) var(--ease-out-quart),
                box-shadow var(--duration-fast) var(--ease-out-quart);
  }

  .input-field::placeholder {
    color: var(--text-tertiary);
  }

  .input-field:hover {
    border-color: var(--border-hover);
  }

  .input-field:focus {
    border-color: var(--border-focus);
    box-shadow: var(--focus-ring);
    outline: none;
  }

  .input-field:disabled {
    background-color: var(--bg-elevated);
    color: var(--text-tertiary);
    cursor: not-allowed;
  }

  /* Select dropdown styling */
  select.input-field {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23566388'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 20px;
    padding-right: 44px;
  }

  select.input-field option {
    background-color: var(--bg-surface);
    color: var(--text-primary);
    padding: 12px;
  }

  /* Textarea styling */
  textarea.input-field {
    resize: vertical;
    min-height: 100px;
    line-height: 1.5;
  }

  .label-text {
    @apply block font-body font-semibold mb-1;
    color: var(--text-primary);
    font-size: 0.875rem;
  }

  /* ============================================
     CARDS
     ============================================ */

  .card {
    background-color: var(--bg-surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 24px;
    transition: all var(--duration-base) var(--ease-out-quart);
  }

  .card:hover {
    border-color: var(--border-hover);
    box-shadow: 0 4px 12px hsl(var(--shadow-color) / 0.08);
  }

  .card-elevated {
    background-color: var(--bg-surface);
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 6px -1px hsl(var(--shadow-color) / 0.1),
                0 2px 4px -2px hsl(var(--shadow-color) / 0.1);
    transition: all var(--duration-base) var(--ease-out-quart);
  }

  .card-elevated:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px hsl(var(--shadow-color) / 0.1),
                0 4px 6px -4px hsl(var(--shadow-color) / 0.1);
  }

  /* ============================================
     PAGE LAYOUT
     ============================================ */

  .page-header {
    border-bottom: 1px solid var(--border);
    padding-bottom: 24px;
    margin-bottom: 32px;
  }

  .page-title {
    font-family: var(--font-heading);
    font-size: 2.441rem;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.02em;
    line-height: 1.1;
  }

  .page-subtitle {
    color: var(--text-secondary);
    font-size: 1.125rem;
    margin-top: 8px;
    max-width: 65ch;
  }

  /* ============================================
     BADGES
     ============================================ */

  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
    min-height: 24px;
  }

  .badge-primary {
    background-color: var(--navy-100);
    color: var(--navy-800);
  }

  .badge-secondary {
    background-color: var(--bg-elevated);
    color: var(--text-secondary);
  }

  .badge-success {
    background-color: var(--success-light);
    color: var(--success);
  }

  .badge-warning {
    background-color: var(--warning-light);
    color: hsl(38, 95%, 35%);
  }

  .badge-error {
    background-color: var(--error-light);
    color: var(--error);
  }

  .badge-gold {
    background-color: var(--gold-100);
    color: var(--gold-700);
  }

  /* ============================================
     LOADING STATES
     ============================================ */

  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8;
    border: 3px solid var(--border);
    border-top-color: var(--navy);
  }

  .skeleton {
    background: linear-gradient(
      90deg,
      var(--bg-elevated) 25%,
      var(--bg-surface) 50%,
      var(--bg-elevated) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
    border-radius: 8px;
  }

  @keyframes skeleton-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* ============================================
     NAVIGATION
     ============================================ */

  .nav-link {
    @apply inline-flex items-center px-3 py-2 rounded-md font-body font-medium;
    color: var(--text-secondary);
    min-height: 44px;
    transition: all var(--duration-fast) var(--ease-out-quart);
  }

  .nav-link:hover {
    color: var(--text-primary);
    background-color: var(--bg-elevated);
  }

  .nav-link.active {
    color: var(--navy);
    background-color: var(--navy-50);
  }

  .nav-link:focus-visible {
    box-shadow: var(--focus-ring);
  }
}

@layer utilities {
  /* ============================================
     TYPOGRAPHY UTILITIES
     ============================================ */

  .font-heading {
    font-family: var(--font-heading);
  }

  .font-body {
    font-family: var(--font-body);
  }

  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  .text-primary {
    color: var(--text-primary);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  .text-tertiary {
    color: var(--text-tertiary);
  }

  /* Max width for readable text */
  .max-w-prose {
    max-width: 65ch;
  }

  .max-w-heading {
    max-width: 40ch;
  }

  /* ============================================
     COLOR UTILITIES
     ============================================ */

  .bg-cream {
    background-color: var(--bg);
  }

  .bg-surface {
    background-color: var(--bg-surface);
  }

  .bg-elevated {
    background-color: var(--bg-elevated);
  }

  .border-subtle {
    border-color: var(--border);
  }

  /* ============================================
     ANIMATION UTILITIES
     ============================================ */

  .animate-fade-in {
    animation: fadeIn var(--duration-base) var(--ease-out-expo);
  }

  .animate-fade-in-up {
    animation: fadeInUp var(--duration-slow) var(--ease-out-expo);
  }

  .animate-scale-in {
    animation: scaleIn var(--duration-fast) var(--ease-out-expo);
  }

  /* Stagger delays for sequential animations */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
  .stagger-5 { animation-delay: 0.5s; }

  /* GPU acceleration for smooth animations */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  /* ============================================
     ACCESSIBILITY UTILITIES
     ============================================ */

  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Focus within container */
  .focus-within-ring:focus-within {
    box-shadow: var(--focus-ring);
  }

  /* Touch-friendly tap targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* ============================================
     SCROLLBAR UTILITIES
     ============================================ */

  .scrollbar-none {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  /* ============================================
     LINE CLAMP UTILITIES
     ============================================ */

  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  /* ============================================
     SHADOW UTILITIES
     ============================================ */

  .shadow-soft {
    box-shadow: 0 1px 3px 0 hsl(var(--shadow-color) / 0.1),
                0 1px 2px 0 hsl(var(--shadow-color) / 0.06);
  }

  .shadow-gold {
    box-shadow: 0 4px 14px 0 hsl(38 50% 55% / 0.3);
  }

  .shadow-navy {
    box-shadow: 0 4px 14px 0 hsl(220 60% 20% / 0.3);
  }
}
